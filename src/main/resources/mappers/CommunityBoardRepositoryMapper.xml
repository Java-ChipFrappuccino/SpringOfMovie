<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.moviespring.web.repository.CommunityBoardRepository">

    <!-- 카테고리별 게시글 목록 -->
    <select id="findAll" resultType="CommunityBoard">
        select * from community_board where category_id = #{categoryId}
        ORDER BY reg_date DESC
        limit #{size}
    </select>

    <!--게시글 상세-->
    <select id="findById" resultType="CommunityBoard">
        select * from community_board
        where id=#{id}
    </select>

    <!-- 게시글 등록 -->
    <insert id="saveContents">
        insert into community_board (title,contents,member_id,category_id)
        values (#{title},#{contents},12,#{categoryId});
    </insert>

    <!-- <select>
    SELECT category.name
    FROM general_board
    INNER JOIN category ON general_board.category_id = category.id
    WHERE general_board.category_id = #{id}
    </select> -->

</mapper>