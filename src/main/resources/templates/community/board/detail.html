<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="inc/layout">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${board.title}+' - '+영화의봄">Document</title>
    <script src="/js/community-board/detail.js" defer></script>
    <style>
        .vote-box {
            width: 56px;
            height: 56px;
        }
        .middle-positiongg {
            height: 24px;
            line-height: 28px;
        }
        .writer-comment-bgc {
            background-color: ghostwhite;
        }

    </style>
</head>
<body>
    <main layout:fragment="main" class="media padding-x:2">
        <section class="media-sect-for-commu">
            <h1 class="color:main-3 fw:bold fs:7 margin-bottom:4" th:text="${category.name == '인기글' || category.name == '굿즈&포스터 ' ? category.name : category.name+'게시판'}">자유게시판</h1>
            <section class="p:2 border-bottom">
                <h1 class="fs:5 margin-bottom:1" th:text="${board.title}">게시글 제목이 나타날 위치입니다</h1>
                <div class="d:flex ai:center gap:3 margin-bottom:1 mt:5">
                    <div class="margin-right:auto">
                        <span class="icon icon:bone">아이콘</span>
                        <span class="fw:bold" th:text="${board.nickname}">작성자</span>
                        <span class="d:inline-block">
                            <span class="fs:2 color:base-6" th:text="${#dates.format(board.regDate, 'yyyy.MM.dd')}">2024.04.08</span>
                            <span class="fs:2 color:base-6" th:text="${#dates.format(board.regDate, 'HH:mm')}">11:35</span>
                        </span>
                    </div>
                    <span class="fs:2 color:base-6">조회수<span class="fw:bold margin-left:1 color:base-10" th:text="${board.hit}">1004</span></span>
                    <span class="fs:2 color:base-6">좋아요<span class="fw:bold margin-left:1 color:base-10" th:text="${board.likeCount}">18</span></span>
                    <span class="fs:2 color:base-6">댓글<span class="fw:bold margin-left:1 color:base-10" th:text="${board.commentCount}">28</span></span>
                </div>
                <div class="padding-y:3 border-top margin-bottom:10">
                    <span><img src="https://dummyimage.com/300x200/000/fff.jpg" alt=""></span>
                    <!--th:utext는 html태그를 해석해서 출력해줌-->
                    <p th:utext="${board.contents}">작성글 내용이 담길 위치입니다 작성글 내용이 담길 위치입니다 작성글 내용이 담길 위치입니다 작성글 내용이 담길 위치입니다</p>
                </div>
                <div class="d:flex jc:center">
                    <div th:data-boardid="${board.id}" th:data-status="${status}" id="vote-box" class="d:flex gap:3">
                        <button th:classappend="${status} == 1 ? 'bd-color:accent-1':'' " class="d:flex flex-direction:column ai:center border border-radius:1 p:1 vote-box gap:1 like-box">
                            <span class="fw:2 color:base-10" th:text="${board.likeCount}">좋아요 수</span>
                            <span class="icon icon:thumbs_up icon-color:accent-1">아이콘</span>
                        </button>
                        <button th:classappend="${status} == -1 ? 'bd-color:sub-1':'' " class="d:flex flex-direction:column ai:center border border border-radius:1 p:1 vote-box gap:1 dislike-box">
                            <span class="fw:2 color:base-10" th:text="${disLikeCount}">싫어요 수</span>
                            <span class="icon icon:thumbs_down icon-color:sub-1">아이콘</span>
                        </button>
                    </div>
                </div>
                <div class="text-align:end fs:5 fw:bold color:main-3" th:if="${memberId eq board.memberId}">
                    <a th:href="@{'edit/'+${board.id}(c=${category.engName})}">수정</a>
                    <a th:href="@{'delete/'+${board.id}(c=${category.engName})}">삭제</a>
                </div>
            </section>
            <section th:each="list : ${list}" th:classappend="${board.nickname eq list.nickname ? 'writer-comment-bgc' : ''}" class="padding-y:1 padding-left:2 padding-right:1 border-bottom d:flex flex-direction:column gap:1">
                <h1 class="d:none">댓글창</h1>
                <div class="d:flex ai:center gap:4">
                    <div class="margin-right:auto">
                        <span class="icon icon:bone">아이콘</span>
                        <span th:text="${list.nickname}" th:class="${board.nickname eq list.nickname ? 'fw:bold' : ''}">작성자</span>
                        <span class="fs:2 color:base-6" th:text="${#temporals.format(list.regDate, 'yyyy.MM.dd')}">2024.04.08</span>
                        <span class="fs:2 color:base-6" th:text="${#temporals.format(list.regDate, 'HH:mm')}">11:35</span>
                    </div>
                    <span class="d:flex">
                        <span class="deco deco-size:2 icon-size:4 deco-mr:1 icon:thumbs_up margin-right:2">13</span>
                        <span class="deco deco-size:2 icon-size:4 deco-mr:1 icon:thumbs_down">2</span>
                    </span>
                    <span>
                        <span class="deco deco-size:2 icon-size:4 deco-ml:1 deco-position:right icon:chat_circle_text fs:2 fw:bold color:main-3">댓글</span>
                    </span>
                </div>
                <p th:text="${list.contents}">댓글 내용이 출력될 장소입니다</p>
            </section>
            <form action="detail" method="post" class="padding-y:1 padding-left:2 padding-right:1">
                <div>
                    <div sec:authorize="isAuthenticated()">
                        <span class="icon icon:bone">아이콘</span>
                        <span sec:authentication="principal.nickname">이름</span>
                    </div>
                    <div sec:authorize="isAnonymous()" class="d:flex jc:center ai:center">
                        <span class="icon icon:warning_circle">아이콘</span>
                        <span class="middle-positiongg">로그인 후에 댓글을 작성하실 수 있습니다</span>
                    </div>
                </div>
                <div class="d:flex">
                    <div class="p:5 w:10p">
                        <textarea sec:authorize="isAuthenticated()" name="content" id="" placeholder="댓글 내용 입력" class="w:10p n-textbox"></textarea>
                        <input sec:authorize="isAuthenticated()" name="memberId" th:value="${memberId}" id="" placeholder="댓글 내용 입력" class="d:none">
                        <input sec:authorize="isAuthenticated()" name="id" th:value="${board.id}" id="" placeholder="댓글 내용 입력" class="d:none">
                        <input sec:authorize="isAuthenticated()" name="c" th:value="${category.engName}" id="" placeholder="댓글 내용 입력" class="d:none">
                        <!--비로그인 댓글 금지-->
                        <textarea sec:authorize="isAnonymous()" disabled name="content" id="" placeholder="댓글 내용 입력" class="n-textbox-status:disabled w:10p n-textbox"></textarea>
                    </div>
                    <!--비로그인시 버튼 submit 요청제거-->
                    <button sec:authorize="isAnonymous()" type="button" style="cursor: not-allowed" class="fs:5 fw:bold color:main-3 w:1">등록</button>

                    <button sec:authorize="isAuthenticated()" class="fs:5 fw:bold color:main-3 w:1">등록</button>
                </div>
            </form>
            <div class="text-align:center">
                <a class="fs:5 fw:bold color:main-3" th:href="@{list(c=${category.engName})}">목록</a>
                <span class="fs:5 fw:bold color:main-3">이전글</span>
                <span class="fs:5 fw:bold color:main-3">다음글</span>
            </div>
        </section>
    </main>
</body>
</html>